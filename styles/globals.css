@tailwind base;
@tailwind components;
@tailwind utilities;

html {
  font-synthesis-weight: none;
}

body {
  @apply font-sans antialiased text-base leading-relaxed;
}

html,
body {
  font-size: 100%; /* keep 1rem = 16px */
  height: 100vh;
  margin: 0;
  padding: 0;
  overflow-x: hidden; /* prevent stray horizontal gap/scroll on mobile */
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-font-smoothing: antialiased;
  -o-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    "Helvetica Neue", Arial, sans-serif;
  color: #454545;
  font-weight: 400;
  letter-spacing: 0;
}

::-webkit-scrollbar {
  width: 6px;
  height: 3px;
}

::-webkit-scrollbar-track {
  background: #fff;
}

::-webkit-scrollbar-thumb {
  background-color: #fff;
  border-radius: 20px;
}

input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 3px;
  border-radius: 5px;
  background: #ddd;
  outline: none;
  opacity: 0.7;
  -webkit-transition: 0.2s;
  transition: opacity 0.2s;
}

input[type="range"]:hover {
  opacity: 1;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #ff0037;
  cursor: pointer;
}

input[type="range"]::-moz-range-thumb {
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #4caf50;
  cursor: pointer;
}

p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    "Helvetica Neue", Arial, sans-serif;
  letter-spacing: 0;
  font-size: 1rem; /* 16px */
  line-height: 1.6;
  margin: 0;
}

@layer components {
  /* ===================================== */
  /* TYPOGRAPHY - 4-LEVEL SYSTEM */
  /* System font stack (GitHub, Facebook, Instagram, Twitter standard) */
  /* Optimized weights for system fonts - stronger than custom fonts */
  /* ===================================== */

  /* LEVEL 1: Hero/Brand - Main page title only */
  .heading-1 {
    @apply text-3xl md:text-4xl font-bold tracking-tight leading-tight italic;
  }

  /* LEVEL 2: Major Sections - Page subtitle, major section dividers */
  .heading-2 {
    @apply text-xl md:text-2xl font-semibold tracking-normal leading-relaxed;
  }

  /* LEVEL 3: Section Headers - Category sections, subsections */
  .heading-3 {
    @apply text-lg md:text-xl font-semibold tracking-normal leading-snug;
  }

  /* LEVEL 4: Card Titles - Event titles in cards */
  .heading-4 {
    @apply text-base md:text-lg font-medium tracking-normal leading-snug;
  }

  /* BODY: Main content text - Descriptions, paragraphs */
  .body-large {
    @apply text-lg font-normal leading-relaxed tracking-normal;
  }

  .body-normal {
    @apply text-base font-normal leading-relaxed tracking-normal;
  }

  /* SMALL: Metadata - Dates, locations, captions, badges */
  .body-small {
    @apply text-sm font-normal leading-relaxed tracking-normal;
  }

  /* LABEL: UI elements - Small badges, uppercase labels */
  .label {
    @apply text-xs uppercase tracking-wider font-medium;
  }

  /* ===================================== */
  /* BUTTONS */
  /* ===================================== */

  .btn-primary {
    @apply inline-flex items-center justify-center gap-2 font-semibold uppercase tracking-wide rounded-button px-button-x py-button-y bg-primary text-primary-foreground hover:bg-primary-dark transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2;
  }

  .btn-neutral {
    @apply inline-flex items-center justify-center gap-2 font-semibold uppercase tracking-wide rounded-button px-button-x py-button-y border-2 border-border text-foreground hover:bg-muted transition-colors focus:outline-none focus:ring-2 focus:ring-foreground focus:ring-offset-2;
  }

  .btn-outline {
    @apply inline-flex items-center justify-center gap-2 font-semibold uppercase tracking-wide rounded-button px-button-x py-button-y border-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2;
  }

  .btn-muted {
    @apply inline-flex items-center justify-center gap-2 font-semibold uppercase tracking-wide rounded-button px-button-x py-button-y bg-muted text-foreground opacity-60 cursor-not-allowed;
  }

  /* ===================================== */
  /* CARDS */
  /* ===================================== */

  .card-bordered {
    @apply bg-background border border-border rounded-card;
  }

  .card-elevated {
    @apply bg-background shadow-lg rounded-card;
  }

  .card-body {
    @apply p-card-padding-sm md:p-card-padding;
  }

  .card-footer {
    @apply border-t border-border p-card-padding-sm md:p-card-padding;
  }

  /* ===================================== */
  /* BADGES */
  /* ===================================== */

  .badge-default {
    @apply inline-flex items-center px-badge-x py-badge-y rounded-badge text-xs font-medium bg-muted text-foreground;
  }

  .badge-primary {
    @apply inline-flex items-center px-badge-x py-badge-y rounded-badge text-xs font-medium bg-primary text-primary-foreground;
  }

  /* ===================================== */
  /* LAYOUT UTILITIES */
  /* ===================================== */

  .flex-center {
    @apply flex justify-center items-center;
  }

  .flex-between {
    @apply flex justify-between items-center;
  }

  .flex-start {
    @apply flex justify-start items-center;
  }

  .stack {
    @apply flex flex-col gap-element-gap;
  }

  /* Column-based horizontal centering (not vertical centering) */
  .flex-center-col {
    @apply flex flex-col items-center;
  }

  /* Horizontal centering wrapper for constrained children (row) */
  .center-content {
    @apply w-full flex justify-center;
  }

  /* Narrow constrained content container */
  .container-narrow {
    @apply w-full max-w-[580px] md:max-w-[768px] lg:max-w-[1024px];
  }

  /* Detail container matching event detail pattern */
  .container-detail {
    @apply w-full sm:w-[520px] md:w-[520px] lg:w-[520px] mx-auto px-4 lg:px-0;
  }

  /* Containers (Semantic) */
  .container-page {
    @apply max-w-7xl mx-auto px-section-x;
  }
  .container-article {
    @apply max-w-4xl mx-auto px-section-x;
  }
  .container-form {
    @apply max-w-2xl mx-auto px-section-x;
  }

  /* ===================================== */
  /* SHADOWS (SEMANTIC) */
  /* ===================================== */

  .shadow-card {
    @apply shadow-sm;
  }

  .shadow-card-hover {
    @apply shadow-md;
  }

  .shadow-modal {
    @apply shadow-lg;
  }

  .shadow-dropdown {
    @apply shadow-lg;
  }

  .shadow-hero {
    @apply shadow-xl;
  }

  /* ===================================== */
  /* SPACING (SEMANTIC TOKENS USAGE) */
  /* ===================================== */

  /* Use spacing tokens directly in components:
     - Sections: py-section-y px-section-x
     - Cards: p-card-padding-sm md:p-card-padding
     - Inline small gaps: gap-element-gap-sm
  */

  /* ===================================== */
  /* TRANSITIONS (SEMANTIC) */
  /* ===================================== */

  .transition-interactive {
    @apply transition-all duration-fast ease-smooth;
  }

  .transition-card {
    @apply transition-[shadow,transform,border-color] duration-normal ease-smooth;
  }

  .transition-modal {
    @apply transition-[opacity,transform] duration-slow ease-smooth;
  }

  /* Hover effects */
  .hover-lift {
    @apply hover:-translate-y-0.5 hover:shadow-card-hover;
  }

  .hover-scale {
    @apply hover:scale-[1.02] active:scale-[0.98];
  }

  .hover-glow {
    @apply hover:shadow-focus;
  }

  /* ===================================== */
  /* FORMS */
  /* ===================================== */

  .input {
    /* Enforce 16px to avoid iOS Safari auto-zoom on focus */
    @apply w-full rounded-input border border-border bg-background text-foreground text-base px-input-x py-input-y h-10 placeholder:text-foreground/60 transition-[box-shadow,border-color] duration-normal ease-smooth focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:border-primary hover:border-border/80;
  }

  .input-lg {
    @apply h-12;
  }

  .input-error {
    @apply border-error focus-visible:ring-error focus-visible:border-error;
  }

  .input-disabled {
    @apply opacity-60 cursor-not-allowed bg-muted pointer-events-none;
  }

  .input-readonly {
    @apply bg-muted;
  }

  .helper-text {
    @apply body-small text-foreground/70 mt-1;
  }

  .helper-text-error {
    @apply body-small text-error mt-1;
  }

  /* ===================================== */
  /* FOCUS UTILITIES */
  /* ===================================== */

  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2;
  }

  .focus-ring-error {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-error focus-visible:ring-offset-2;
  }

  /* ===================================== */
  /* Z-INDEX (SEMANTIC) */
  /* ===================================== */

  .z-sticky {
    @apply z-10;
  }
  .z-dropdown {
    @apply z-100;
  }
  .z-modal {
    @apply z-900;
  }
  .z-tooltip {
    @apply z-1000;
  }
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0ms !important;
    scroll-behavior: auto !important;
  }
}

.slider {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  width: 100%;
  border-radius: 5px;
  background: #13b60a;
  outline: none;
  opacity: 0.7;
  -webkit-transition: 0.2s;
  transition: opacity 0.2s;
}

.slider:hover {
  opacity: 1;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 25px;
  height: 25px;
  background: #4caf50;
  cursor: pointer;
}

.slider::-moz-range-thumb {
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: #4caf50;
  cursor: pointer;
}

.nowrap {
  white-space: nowrap;
  overflow-wrap: break-word;
}

#map {
  height: 100%;
}

#__next {
  min-height: 100% !important;
  position: relative;
}

.fit {
  min-height: calc(100vh - 88px);
}

.next-image-wrapper > span {
  height: 100% !important;
}

.reset-this * {
  font-size: revert;
  font-weight: revert;
  font-family: revert;
  font-style: revert;
}

.ql-toolbar {
  -webkit-border-top-left-radius: 12px;
  -webkit-border-top-right-radius: 12px;
  -moz-border-radius-topleft: 12px;
  -moz-border-radius-topright: 12px;
  border-top-left-radius: 12px;
  border-top-right-radius: 12px;
}

.ql-container {
  -webkit-border-bottom-right-radius: 12px;
  -webkit-border-bottom-left-radius: 12px;
  -moz-border-radius-bottomright: 12px;
  -moz-border-radius-bottomleft: 12px;
  border-bottom-right-radius: 12px;
  border-bottom-left-radius: 12px;
}

[type="text"]:focus {
  box-shadow: inset 0px 0px 0px 0px white;
}

.select-container input {
  --tw-border-opacity: 1;
  border-color: rgb(209 213 219 / var(--tw-border-opacity));
  box-shadow: inset 0px 0px 0px 0px white;
}

.select-container input:focus {
  box-shadow: inset 0px 0px 0px 0px white;
}

.break-word {
  word-break: break-word;
}

#mymap {
  background: url(/static/images/gMaps.webp);
  background-size: auto;
  overflow: hidden;
}

#mymap iframe {
  border: 0;
}

iframe {
  max-width: 100% !important;
}

.blurred-image {
  image-rendering: -moz-crisp-edges; /* Firefox */
  image-rendering: -o-crisp-edges; /* Opera */
  image-rendering: -webkit-optimize-contrast; /* Webkit (non-standard naming) */
  image-rendering: crisp-edges;
  -ms-interpolation-mode: nearest-neighbor;
}

#ad-card-slot {
  min-height: 240px;
  min-width: 280px;
}

#ad-article-slot {
  min-height: 280px;
  min-width: 280px;
}

.ql-editor > p {
  margin-top: 1.3333333em !important;
  margin-bottom: 1.3333333em !important;
}

.ql-editor > ul {
  margin-top: 1.3333333em !important;
  margin-bottom: 1.3333333em !important;
}

.ql-editor > ul > li {
  margin-top: 0.6666667em;
  margin-bottom: 0.6666667em;
}

.react-datepicker-wrapper {
  width: 100%;
}

img,
video {
  max-width: 100%;
  height: 100%;
}

/* Custom animations */
@keyframes appear {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-appear {
  animation: appear 0.3s ease-out;
}
