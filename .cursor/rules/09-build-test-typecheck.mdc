---
alwaysApply: false
---

### Build, test, lint, and typecheck

- **Dev**: `yarn dev` (Next dev server). Run `yarn prebuild` first if `public/sw-template.js` changed so `public/sw.js` regenerates.
- **Build**: `yarn build` (Next build only). Run `yarn prebuild` beforehand when the SW template changes. Environment builds (`build:development|staging|production`) already run `prebuild` before `next build`.
- **Analyze**: `yarn analyze`, `analyze:server`, `analyze:browser`.
- **Tests**: `yarn test` (Vitest jsdom). Current suite focuses on filter system.
- **Typecheck**: `yarn typecheck`.
- **Lint**: `yarn lint`. Maintain conventions and fix issues before commit.
- **Precommit idea**: Keep SW generation and tests passing locally before pushing.
